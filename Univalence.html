<html>
<head>
  <meta charset="utf-8"/>
</head>
<body>
  <svg>
    <g id="layer1">
      <path
         style="fill:none;stroke:#000000;stroke-width:8;stroke-linecap:butt;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
         d="m 16,96 h 96"
         id="lower" />
      <path
         style="fill:none;stroke:#000000;stroke-width:8;stroke-linecap:butt;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
         d="m 16,64 h 96"
         id="mid" />
      <path
         style="fill:none;stroke:#000000;stroke-width:8;stroke-linecap:butt;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
         d="m 16,40 c 16,-16 24,-16 48,-8 24,8 32,8 48,-8"
         id="curved" />
      <path
         style="fill:none;stroke:#000000;stroke-width:8;stroke-linecap:butt;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:0"
         d="m 16,32 h 48 48"
         id="upper" />
    </g>
  </svg>
  <script>
  let curved = document.getElementById("curved");
  console.log(curved);
  let mkD = v => {
    let v8 = v*8;
    let v16 = v*16;
    let _v8 = -v8;
    let _v16 = -v16;
    let s = 32 + v8;
    return "m 16,"+s+" c 16,"+_v16+" 24,"+_v16+" 48,"+_v8+" 24,"+v8+" 32,"+v8+" 48,"+_v8;
  };
  let setD = v => curved.attributes.d.value = mkD(v);
  let start = Date.now();
  let next = function() {
    let t = (Date.now() - start)/1000;
    let n = t % 2;
    let v = n > 1 ? 2-n : n;
    setD(v);
    requestAnimationFrame(next);
  };
  next();
  </script>
</body>
</html>
